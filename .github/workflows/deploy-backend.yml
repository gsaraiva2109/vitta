name: Deploy Backend

on:
  push:
    paths:
      - 'api/**' # Dispara apenas quando arquivos dentro da pasta 'api' s√£o alterados

jobs:
  deploy-backend:
    runs-on: ubuntu-latest
    steps:
      - name: Check Out Code
        uses: actions/checkout@v3

      - name: Deploy Backend with Coolify
        uses: ChristopheCVB/coolify-deploy-action@v3.1.0
        with:
          domain: ${{ secrets.COOLIFY_URL }}
          token: ${{ secrets.COOLIFY_TOKEN }}
          uuid: ${{ secrets.BACKEND_APP_ID }}